function qqLogin() {
	var $qqLoginBtn = $('#qqLoginBtn > a');
	$qqLoginBtn.click();
}
var access_token = null;
var paras = {}, loggingStatus;
// 用JS SDK调用OpenAPI
QC
		.api("get_user_info", paras)
		// 指定接口访问成功的接收函数，s为成功返回Response对象
		.success(function(s) {
			// 成功回调，通过s.data获取OpenAPI的返回数据
			setCookie("qq_nickname", s.data.nickname);
			setCookie("figureurl_qq_2", s.data.figureurl_qq_2);
		})
		// 指定接口访问失败的接收函数，f为失败返回Response对象
		.error(function(f) {
			// 失败回调
			alert("获取用户信息失败！");
		})
		// 指定接口完成请求后的接收函数，c为完成请求返回Response对象
		.complete(
				function(c) {
					// 完成请求回调
					QC.Login
							.getMe(function(openId, accessToken) {
								// alert(["当前登录用户的", "openId为："+openId,
								// "accessToken为："+accessToken].join("\n"));
//								setCookie("qq_openId", accessToken);
//								setCookie("accessToken", accessToken);
								access_token = accessToken;
							});
				});

QC.Login({
	btnId : 'qqLoginBtn', // 插入按钮的节点id
	scope : "all",
	// 按钮尺寸，可用值[A_XL| A_L| A_M| A_S| B_M| B_S| C_S]，可选，默认B_S
	size : "B_M"
}, function(reqData, opts) {// 登录成功
	$.ajax({  
        type: "get",  
        async: false,  
        url: 'https://graph.qq.com/oauth2.0/me?access_token='+access_token+'&unionid=1',  
        dataType: "jsonp",  
        jsonp: "callback",//传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(一般默认为:callback)
        jsonpCallback:"callback",
        success: function (data) {
        	delCookie('__qc__k');
        	setCookie("qq_openId", data.unionid);
        	location.href = '/OAuth/qq.html';
        },  
        error: function (data) { 
        	alert("fail");
        }  
    });  

}, function(opts) {// 注销成功
	alert('QQ登录 注销成功');
});


function wxLogin(){
	var url = 'http://51duba.com/OAuth/wechat.html';
	window.location.href='https://open.weixin.qq.com/connect/qrconnect?appid=wxd1207c3442a67f3f&redirect_uri='+encodeURI(url)+'&response_type=code&scope=snsapi_login&state=51duba#wechat_redirect';
}
